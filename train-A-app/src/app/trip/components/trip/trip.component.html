<div class="ride-header">
  <button class="back-button" (click)="back()">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <div class="ride-info">
    <div class="ride-route">
      <span class="ride-cities">{{ fromCity.city }} â†’ {{ toCity.city }}</span>
      <span class="ride-date">{{ this.ride.date | date: 'MMMM d, HH:mm' : '0' }}</span>
    </div>
    <div class="ride-details">
      <span class="ride-id">Ride {{ rideId }}</span>
      <button mat-button class="route-link" (click)="openDialog()">Route</button>
    </div>
  </div>
</div>

<mat-tab-group dynamicHeight>
  @for (carriage of carriageTypes; track carriage.name) {
    <mat-tab>
      <ng-template mat-tab-label>
        <div class="carriage-item">
          <span class="label-text"
            >{{ carriage.name }}: {{ carriageSchemas[carriage.name].seats }}</span
          >
          <span class="label-text">${{ carriage.leftSeats }}</span>
        </div>
      </ng-template>
      @for (car of tripDetails.carriages; track $index) {
        @if (car === carriage.name) {
          <div class="wrapper">
            <p>Carriage {{ $index }}</p>
            <div class="carriage">
              <app-carriage-schema
                [carriage]="carriageSchemas[carriage.name]"
                [isDisabled]="false"
              ></app-carriage-schema>
            </div>
          </div>
        }
      }
    </mat-tab>
  }
</mat-tab-group>
<div class="order">
  <button mat-flat-button [disabled]="false" (click)="letsBook()">Book seat</button>
</div>
